"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=e(t),r=require("slate"),a=require("slate-react"),l=require("slate-history"),i=require("@material-ui/core/styles"),o=e(require("@material-ui/core/AppBar")),c=e(require("@material-ui/core/Toolbar")),u=e(require("@material-ui/core/Divider")),m=e(require("@material-ui/core/IconButton")),s=e(require("@material-ui/core/Tooltip")),d=e(require("@material-ui/core/TextField")),h=e(require("@material-ui/core/Button")),f=e(require("@material-ui/core/Dialog")),v=e(require("@material-ui/core/DialogActions")),p=e(require("@material-ui/core/DialogContent")),E=e(require("@material-ui/core/DialogTitle")),g=e(require("@material-ui/core/Menu")),b=e(require("@material-ui/core/MenuItem")),y=require("react-colorful"),z=e(require("@material-ui/core/SvgIcon")),k=e(require("@material-ui/core/FormControlLabel")),H=e(require("@material-ui/core/Checkbox")),M=e(require("@material-ui/core/Popper")),C=e(require("@material-ui/core/FormControl")),x=e(require("@material-ui/core/Select")),w=e(require("@material-ui/core/Typography")),S=e(require("@material-ui/core/Table")),V=e(require("@material-ui/core/TableBody")),N=e(require("@material-ui/core/TableRow")),L=e(require("@material-ui/core/TableCell"));require("@fontsource/lato"),require("@fontsource/merriweather"),require("@fontsource/montserrat"),require("@fontsource/roboto"),require("@fontsource/roboto-condensed"),require("@fontsource/roboto-mono"),require("@fontsource/roboto-slab");var T=e(require("@material-ui/core/Box")),D=require("slate-hyperscript"),O=i.makeStyles((function(){return{button:function(e){return{color:null!=e&&e.active?"#000":"rgba(0, 0, 0, 0.54)"}}}})),R=function(e,t){var n=r.Editor.marks(e);return!(!n||!n[t])},q=function(e){var t=e.format,l=e.icon,i=a.useSlate(),o={active:R(i,t)},c=O(o);return n.createElement(s,{title:t},n.createElement(m,{className:c.button,size:"small","aria-label":""+t,onMouseDown:function(e){e.preventDefault(),function(e,t){R(e,t)?r.Editor.removeMark(e,t):r.Editor.addMark(e,t,!0)}(i,t)}},l))},F=function(e,t,n){return!!Array.from(r.Editor.nodes(e,{match:function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&e[t]===n}}))[0]},A=function(e,t){var n=F(e,"type",t);r.Transforms.setNodes(e,{type:n?"paragraph":t})},I=function(e){var t=e.format,r=e.icon,l=e.clickFn,i=a.useSlate(),o={active:F(i,"type",t)},c=O(o);return n.createElement(s,{title:t},n.createElement(m,{className:c.button,size:"small","aria-label":t,onMouseDown:function(e){e.preventDefault(),l()}},r))},j=function(e){var t=e.icon,l=e.align,i=a.useSlate(),o={active:F(i,"align",l)},c=O(o);return n.createElement(s,{title:l},n.createElement(m,{className:c.button,size:"small","aria-label":"align-"+l,onMouseDown:function(e){e.preventDefault(),function(e,t){var n=F(e,"align",t);r.Transforms.setNodes(e,{align:n?"left":t})}(i,l)}},t))},P=i.makeStyles((function(){return{button:{textTransform:"none"}}})),W=function(e){var t=e.handleAddClick,r=e.handleClose,a=e.dialogOpen,l=e.link,i=e.setLink,o=P();return n.createElement(f,{open:a,onClose:r,"aria-labelledby":"link-dialog-title"},n.createElement(E,{id:"link-dialog-title"},"Link Details"),n.createElement(p,null,n.createElement(d,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",defaultValue:l.url,onChange:function(e){return i({url:e.target.value,text:l.text})},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"text",label:"Text",type:"text",defaultValue:l.text?l.text:"",onChange:function(e){return i({text:e.target.value,url:l.url})},fullWidth:!0})),n.createElement(v,null,n.createElement(h,{className:o.button,onClick:t,variant:"contained",color:"primary"},"Add Link")))},_={match:function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&"link"===e.type}},B=function(e){return!!Array.from(r.Editor.nodes(e,_))[0]},U=function(e,t){var n=t.url,a=t.text;B(e)&&r.Transforms.unwrapNodes(e,_);var l={type:"link",url:n,children:[{text:a}]},i=e.selection;i&&r.Range.isCollapsed(i)?r.Transforms.insertNodes(e,l):(r.Transforms.wrapNodes(e,l,{split:!0}),r.Editor.insertText(e,a),r.Transforms.collapse(e,{edge:"end"}))},G=function(e){var t,n=e.selection,a="";if(n&&!r.Range.isCollapsed(n)){a=r.Editor.string(e,n);var l=Array.from(r.Editor.nodes(e,_))[0];l&&r.Element.isElement(l[0])&&(t=l[0].url)}return{url:t||"",text:a}};r.Transforms.deselect=function(){};var K=function(e){var t=e.icon,r=a.useSlate(),l=function(){var e=a.useSlate(),t=n.useState(!1),r=t[0],l=t[1],i=n.useState({url:"",text:""}),o=i[0];return{link:o,setLink:i[1],linkDialogOpen:r,setLinkDialogOpen:l,handleAddLink:function(){U(e,o),l(!1)}}}(),i=l.link,o=l.setLink,c=l.linkDialogOpen,u=l.setLinkDialogOpen,d=l.handleAddLink,h={active:B(r)},f=O(h);return n.createElement(n.Fragment,null,n.createElement(s,{title:"link"},n.createElement(m,{className:f.button,size:"small","aria-label":"link",onMouseDown:function(){var e=G(r);o(e),u(!0)}},t)),n.createElement(W,{handleAddClick:d,handleClose:function(){return u(!1)},dialogOpen:c,link:i,setLink:o}))},Y=function(){var e=n.useState(null),t=e[1];return{anchorEl:e[0],setAnchorEl:t,handleMouseDown:function(e){t(e.currentTarget)},handleClose:function(e,n){"backdropClick"!==n&&"escapeKeyDown"!==n||t(null)}}},J=["PubMed","GO","Gene","Strain","Plasmid"],Q=function(){var e=a.useSlate(),t=Y(),r=t.anchorEl,l=t.setAnchorEl;return n.createElement(n.Fragment,null,n.createElement(s,{title:"autolinked IDs"},n.createElement(m,{size:"small","aria-label":"autolinked IDs","aria-haspopup":"true",onMouseDown:t.handleMouseDown},"ID")),n.createElement(g,{id:"autolinked-ids-menu",anchorEl:r,open:Boolean(r),MenuListProps:{disablePadding:!0},onClose:function(){return l(null)}},J.map((function(t,r){return n.createElement(b,{key:r,onClick:function(){return function(t){var n=G(e),r=function(e){var t="";switch(e){case"PubMed":t="/publication/";break;case"GO":t="https://www.ebi.ac.uk/QuickGO/term/";break;case"Gene":t="/gene/";break;case"Strain":t="/stockcenter/strains/";break;case"Plasmid":t="/stockcenter/plasmids/";break;default:return t}return t}(t);if(!function(e,t){var n=!1;switch(e){case"PubMed":n=/^\d+$/.test(t);break;case"GO":n=/GO:[0-9]+/.test(t);break;case"Gene":n=!0;break;case"Strain":n=/DBS[0-9]+/.test(t);break;case"Plasmid":n=/DBP[0-9]+/.test(t);break;default:return n}return n}(t,n.text))return alert(n.text+" is not a valid ID for "+t),void l(null);n.url.includes(r)||(n.url=""+r+n.text),U(e,n),l(null)}(t)}},t)}))))},Z=i.makeStyles((function(e){return{buttonContainer:{display:"flex",flexDirection:"row"},button:{width:"24px",height:"24px",padding:"0px",margin:e.spacing(.5),cursor:"pointer"},input:{width:"90%",textTransform:"uppercase",padding:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1),borderRadius:"4px"},popper:{padding:e.spacing(2)}}})),$=function(e){var t=e.handleChange,r=e.activeColor,a=i.useTheme(),l=Z(),o=function(e){var t=e.palette;return[t.primary.main,t.secondary.main,t.error.main,t.warning.main,t.info.main,t.success.main]}(a);return n.createElement("div",{className:l.popper},n.createElement(y.HexColorPicker,{color:r,onChange:t}),n.createElement(y.HexColorInput,{className:l.input,color:r,onChange:t}),n.createElement("div",{className:l.buttonContainer},o.map((function(e){return n.createElement(m,{key:e,className:l.button,style:{backgroundColor:e},onClick:function(){return t(e)}})}))))},X=function(e,t){var n,a=r.Editor.marks(e);if(a&&a[t])return"inherit"===(n=a[t])?"1rem":n},ee=function(e){var t=e.icon,l=a.useSlate(),i=Y(),o=i.anchorEl,c=i.handleClose,u=i.handleMouseDown,d=X(l,"fontColor");return n.createElement(n.Fragment,null,n.createElement(s,{title:"font color"},n.createElement(m,{size:"small","aria-label":"font color","aria-haspopup":"true",onMouseDown:u},t)),n.createElement(g,{id:"font-color-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),MenuListProps:{disablePadding:!0},onClose:c},n.createElement("div",null,n.createElement($,{handleChange:function(e){r.Editor.addMark(l,"fontColor",e)},activeColor:d}))))},te=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}))},ne=["Lato","Merriweather","Montserrat","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab"],re=["0.8rem","0.9rem","1rem","1.1rem","1.2rem","1.3rem","1.4rem","1.5rem","1.8rem","2rem"],ae=["1.0","1.2","1.5","2.0","2.5","3.0"],le=function(e){if(e.selection){var t=r.Path.parent(e.selection.anchor.path);return r.Node.get(e,t)}},ie=i.makeStyles((function(){return{menuItem:{display:"flex",justifyContent:"flex-end",width:"75px"},icon:{"&:hover":{backgroundColor:"transparent"}}}})),oe=function(e){var t=e.icon,l=a.useSlate(),i=ie(),o=n.useState(null),c=o[0],u=o[1];return n.createElement(n.Fragment,null,n.createElement(s,{title:"line spacing"},n.createElement(m,{size:"small","aria-label":"line spacing","aria-haspopup":"true",onMouseDown:function(e){u(e.currentTarget)}},t)),n.createElement(g,{id:"line-spacing-menu",anchorEl:c,open:Boolean(c),MenuListProps:{disablePadding:!0},onClose:function(){return u(null)}},ae.map((function(e,t){var a=le(l),o=r.Element.isElement(a)&&a.lineSpacing||"1.5";return n.createElement(b,{key:t,onClick:function(){return function(e){r.Transforms.setNodes(l,{type:"lineSpacing",lineSpacing:e}),u(null)}(e)},className:i.menuItem},n.createElement(m,{size:"small",className:i.icon},o===e&&n.createElement(te,null)),e)}))))};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue=function(e){var t=e.handleAddClick,r=e.handleClose,a=e.dialogOpen,l=e.image,i=e.setImage,o=P(),c=n.useState(!1),u=c[0],m=c[1];return n.createElement(f,{open:a,onClose:r,"aria-labelledby":"image-dialog-title"},n.createElement(E,{id:"image-dialog-title"},"Image Details"),n.createElement(p,null,n.createElement(d,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",onChange:function(e){return i(ce({},l,{url:e.target.value}))},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"description",label:"Description",type:"text",onChange:function(e){return i(ce({},l,{description:e.target.value}))},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"width",label:"Width (optional)",type:"number",onChange:function(e){return i(ce({},l,{width:Number(e.target.value)}))},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"height",label:"Height (optional)",type:"number",onChange:function(e){return i(ce({},l,{height:Number(e.target.value)}))},fullWidth:!0}),n.createElement(k,{control:n.createElement(H,{checked:u,onChange:function(){m(!u)},color:"primary",name:"checkedA"}),label:"Is this a link?"}),u&&n.createElement(d,{margin:"dense",id:"link",label:"Link URL",type:"text",onChange:function(e){return i(ce({},l,{linkURL:e.target.value}))},fullWidth:!0})),n.createElement(v,null,n.createElement(h,{className:o.button,onClick:t,variant:"contained",color:"primary"},"Add Image")))};r.Transforms.deselect=function(){};var me=function(e){var t=e.icon,l=a.useSlate(),i=n.useState(!1),o=i[0],c=i[1],u=n.useState({url:"",description:""}),d=u[0],h=u[1],f=O({active:!1});return n.createElement(n.Fragment,null,n.createElement(s,{title:"image"},n.createElement(m,{className:f.button,size:"small","aria-label":"image",onMouseDown:function(){return c(!0)}},t)),n.createElement(ue,{handleAddClick:function(){!function(e,t){r.Transforms.insertNodes(e,{type:"image",url:t.url,description:t.description,width:t.width,height:t.height,linkURL:t.linkURL,children:[{text:""}]})}(l,d),c(!1)},handleClose:function(){return c(!1)},dialogOpen:o,image:d,setImage:h}))},se=function(e){var t=e.handleAddClick,r=e.handleClose,a=e.dialogOpen,l=e.video,i=e.setVideo,o=P();return n.createElement(f,{open:a,onClose:r,"aria-labelledby":"video-dialog-title"},n.createElement(E,{id:"video-dialog-title"},"Video Details"),n.createElement(p,null,n.createElement(d,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",onChange:function(e){return i(ce({},l,{url:e.target.value}))},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"width",label:"Width (optional)",type:"number",onChange:function(e){return i(ce({},l,{width:Number(e.target.value)}))},fullWidth:!0}),n.createElement(d,{margin:"dense",id:"height",label:"Height (optional)",type:"number",onChange:function(e){return i(ce({},l,{height:Number(e.target.value)}))},fullWidth:!0})),n.createElement(v,null,n.createElement(h,{className:o.button,onClick:t,variant:"contained",color:"primary"},"Add Video")))},de=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/+|.*[?&]v=)|youtu\.be\/)([^"&?/ ]{11})/i,he=/\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_-]+)?/i;r.Transforms.deselect=function(){};var fe=function(e){var t=e.icon,l=a.useSlate(),i=n.useState(!1),o=i[0],c=i[1],u=n.useState({url:""}),d=u[0],h=u[1],f=O({active:!1});return n.createElement(n.Fragment,null,n.createElement(s,{title:"video"},n.createElement(m,{className:f.button,size:"small","aria-label":"video",onMouseDown:function(){return c(!0)}},t)),n.createElement(se,{handleAddClick:function(){(function(e,t){var n=t.url,a=t.width,l=t.height,i=n,o=function(e){var t;return e.includes("youtube")&&(t=e.match(de)),e.includes("vimeo")&&(t=e.match(he)),t&&t.length>0?t[1]:(alert("Can only accept YouTube or Vimeo URL"),e)}(n);n.match(/youtube\.com/)&&(i="https://www.youtube.com/embed/"+o),n.match(/vimeo\.com/)&&(i="https://player.vimeo.com/video/"+o),r.Transforms.insertNodes(e,{type:"video",url:i,width:a,height:l,children:[{text:""}]})})(l,d),c(!1)},handleClose:function(){return c(!1)},dialogOpen:o,video:d,setVideo:h}))},ve=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M14 20v-2.157c1.863-1.192 3.5-3.875 3.5-6.959 0-3.073-2-6.029-5.5-6.029s-5.5 2.956-5.5 6.03c0 3.083 1.637 5.766 3.5 6.958V20H3v-2h4.76C5.666 16.505 4 13.989 4 10.884 4 6.247 7.5 3 12 3s8 3.247 8 7.884c0 3.105-1.666 5.621-3.76 7.116H21v2h-7z"}))},pe=i.makeStyles((function(e){return{popper:{marginTop:e.spacing(1.5),backgroundColor:e.palette.grey[100],width:"400px"},button:{borderRadius:"0px",border:"1px solid "+e.palette.grey[200],width:"21px"}}})),Ee=function(){var e=a.useSlate(),t=pe(),l=n.useState(null),i=l[0],o=l[1],c=function(){for(var e=[],t=913;t<969;t++)e.push(String.fromCharCode(t));return e}(),u=Boolean(i);return n.createElement(n.Fragment,null,n.createElement(s,{title:"scientific symbols"},n.createElement(m,{size:"small","aria-label":"scientific symbols","aria-haspopup":"true",onMouseDown:function(e){o(e.currentTarget)}},n.createElement(ve,null))),n.createElement(M,{className:t.popper,id:u?"symbol-popper":void 0,open:u,anchorEl:i},c.map((function(a,l){return n.createElement(m,{className:t.button,key:l,onClick:function(){return function(t){r.Editor.insertText(e,t),o(null)}(a)},size:"small"},a)}))))},ge=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}))},be=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}))},ye=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"}))},ze=function(){return n.createElement(z,null,n.createElement("path",{d:"M22,18h-2v1h3v1h-4v-2c0-0.55,0.45-1,1-1h2v-1h-3v-1h3c0.55,0,1,0.45,1,1v1C23,17.55,22.55,18,22,18z M5.88,18h2.66 l3.4-5.42h0.12l3.4,5.42h2.66l-4.65-7.27L17.81,4h-2.68l-3.07,4.99h-0.12L8.85,4H6.19l4.32,6.73L5.88,18z"}))},ke=function(){return n.createElement(z,null,n.createElement("path",{d:"M22,7h-2v1h3v1h-4V7c0-0.55,0.45-1,1-1h2V5h-3V4h3c0.55,0,1,0.45,1,1v1C23,6.55,22.55,7,22,7z M5.88,20h2.66l3.4-5.42h0.12 l3.4,5.42h2.66l-4.65-7.27L17.81,6h-2.68l-3.07,4.99h-0.12L8.85,6H6.19l4.32,6.73L5.88,20z"}))},He=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}))},Me=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"}))},Ce=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"}))},xe=function(){return n.createElement(z,null,n.createElement("path",{d:"M.01 0h24v24h-24z",fill:"none"}),n.createElement("path",{d:"M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z"}))},we=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}))},Se=function(){return n.createElement(z,null,n.createElement("rect",{fill:"none",fillRule:"evenodd",height:"24",width:"24"}),n.createElement("rect",{fillRule:"evenodd",height:"2",width:"16",x:"4",y:"11"}))},Ve=function(){return n.createElement(z,null,n.createElement("path",{d:"M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"}))},Ne=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}))},Le=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}))},Te=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),n.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}))},De=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}))},Oe=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}))},Re=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}))},qe=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}))},Fe=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}))},Ae=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}))},Ie=function(){return n.createElement(z,null,n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"}))},je=i.makeStyles((function(e){return{dropdown:function(t){return{margin:e.spacing(1),minWidth:t.minWidth}}}})),Pe=function(e){var t=e.values,l=e.defaultValue,i=e.mark,o=e.minWidth,c=void 0===o?"150px":o,u=a.useSlate(),m=je({minWidth:c});return n.createElement(C,{className:m.dropdown},n.createElement(x,{value:X(u,i)||l,onChange:function(e){r.Editor.addMark(u,i,e.target.value)}},t.map((function(e){var t;return n.createElement(b,{key:e,value:e,style:(t={},t[i]=e,t)},e)}))))},We=function(){return n.createElement(z,null,n.createElement("path",{d:"M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"}))},_e=function(e,t){var n=F(e,"type",t);r.Transforms.unwrapNodes(e,{match:function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&e.type===t},split:!0}),r.Transforms.setNodes(e,{type:n?"paragraph":"listItem"}),n||r.Transforms.wrapNodes(e,{type:t,children:[]})},Be=function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&"orderedList"===e.type||!r.Editor.isEditor(e)&&r.Element.isElement(e)&&"unorderedList"===e.type},Ue=function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&"listItem"===e.type},Ge=function(e){return Array.from(r.Editor.nodes(e,{match:function(e){return Be(e)}}))[0]},Ke=function(e){return Array.from(r.Editor.nodes(e,{match:function(e){return Ue(e)}}))[0]},Ye=function(e){r.Transforms.setNodes(e,{type:"paragraph"},{match:function(e){return Ue(e)}})},Je=function(e){Ge(e)&&r.Transforms.liftNodes(e,{match:function(e){return Ue(e)}})},Qe=function(e,t){var n=e.selection;if(n&&r.Range.isCollapsed(n)){var a=Array.from(r.Editor.nodes(e,{match:function(e){return Ue(e)&&e.children&&e.children[0]&&(!e.children[0].text||""===e.children[0].text)}}))[0];if(a){var l=r.Editor.start(e,a[1]);if(r.Point.equals(n.anchor,l))return Je(e),void(Ge(e)||Ye(e))}}t()},Ze=function(e){var t=e.selection;if(t&&r.Range.isCollapsed(t))if(Ke(e)){var n=Array.from(r.Editor.nodes(e,{mode:"lowest",match:function(e){return Be(e)}}))[0];n&&n[1].length<=5&&r.Element.isElement(n[0])&&r.Transforms.wrapNodes(e,{type:n[0].type,children:[]})}else e.insertText("    ")},$e=function(e){var t=e.selection;t&&r.Range.isCollapsed(t)&&Ke(e)&&(Je(e),Ge(e)||Ye(e))},Xe=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M13 10v4h6v-4h-6zm-2 0H5v4h6v-4zm2 9h6v-3h-6v3zm-2 0v-3H5v3h6zm2-14v3h6V5h-6zm-2 0H5v3h6V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}))},et=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0H24V24H0z"}),n.createElement("path",{d:"M10 3c.552 0 1 .448 1 1v16c0 .552-.448 1-1 1H4c-.552 0-1-.448-1-1V4c0-.552.448-1 1-1h6zM9 5H5v14h4V5zm9 2c2.761 0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5-5zm1 2h-2v1.999L15 11v2l2-.001V15h2v-2.001L21 13v-2l-2-.001V9z"}))},tt=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0H24V24H0z"}),n.createElement("path",{d:"M12 13c2.761 0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5-5zm1 2h-2v1.999L9 17v2l2-.001V21h2v-2.001L15 19v-2l-2-.001V15zm7-12c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1H4c-.552 0-1-.448-1-1V4c0-.552.448-1 1-1h16zM5 5v4h14V5H5z"}))},nt=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0H24V24H0z"}),n.createElement("path",{d:"M12 3c.552 0 1 .448 1 1v8c.835-.628 1.874-1 3-1 2.761 0 5 2.239 5 5s-2.239 5-5 5c-1.032 0-1.99-.313-2.787-.848L13 20c0 .552-.448 1-1 1H6c-.552 0-1-.448-1-1V4c0-.552.448-1 1-1h6zm-1 2H7v14h4V5zm8 10h-6v2h6v-2z"}))},rt=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0H24V24H0z"}),n.createElement("path",{d:"M20 5c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1 .628.835 1 1.874 1 3 0 2.761-2.239 5-5 5s-5-2.239-5-5c0-1.126.372-2.165 1-3H4c-.552 0-1-.448-1-1V6c0-.552.448-1 1-1h16zm-7 10v2h6v-2h-6zm6-8H5v4h14V7z"}))},at=function(){return n.createElement(z,null,n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-9 3h2v6H9v-6zm4 0h2v6h-2v-6zM9 4v2h6V4H9z"}))},lt=function(e,t){return r.Editor.above(e,{match:function(e){return!r.Editor.isEditor(e)&&r.Element.isElement(e)&&e.type===t}})},it=function(e){return{type:"tableRow",children:Array(e).fill("").map((function(){return{type:"tableCell",children:[{type:"paragraph",children:[{text:" "}]}]}}))}},ot=function(e){var t=lt(e,"tableWrap");t&&r.Transforms.removeNodes(e,{at:t[1]})},ct=function(){var e=a.useSlate(),t=F(e,"type","tableWrap"),l=O({active:t});return n.createElement(n.Fragment,null,n.createElement(s,{title:"table"},n.createElement(m,{className:l.button,size:"small","aria-label":"table",onMouseDown:function(t){t.preventDefault(),function(e){F(e,"type","table")||r.Transforms.insertNodes(e,{type:"tableWrap",children:[{type:"table",row:1,col:2,children:Array(1).fill(" ").map((function(){return it(2)}))},{type:"paragraph",children:[{text:""}]}]})}(e)}},n.createElement(Xe,null))),t&&n.createElement(n.Fragment,null,function(e){return[{format:"tableColumn",icon:n.createElement(et,null),callback:function(){return function(e){var t=lt(e,"tableCell");if(void 0!==t){var n=lt(e,"table");if(void 0!==n){var a=n[0],l=n[1],i=r.Path.next(t[1]).slice(),o=i.length-2,c=i[o];r.Element.isElement(a)&&(a.children.forEach((function(t,n){i[o]=n,r.Transforms.insertNodes(e,{type:"tableCell",children:[{type:"paragraph",children:[{text:" "}]}]},{at:i,select:n===c})})),r.Transforms.setNodes(e,{col:Number(a.col)+1},{at:l}))}}}(e)}},{format:"tableRow",icon:n.createElement(tt,null),callback:function(){return function(e){var t=lt(e,"tableRow");if(void 0!==t){var n=t[1],a=r.Editor.parent(e,n),l=a[0],i=a[1];if(r.Element.isElement(l)){var o=l.row;r.Transforms.insertNodes(e,it(l.col),{at:r.Path.next(n)}),r.Transforms.setNodes(e,{row:o+1},{at:i})}}}(e)}},{format:"tableColumnDelete",icon:n.createElement(nt,null),callback:function(){return function(e){var t=lt(e,"tableCell");if(void 0!==t){var n=lt(e,"table");if(void 0!==n){var a=t[1],l=n[0],i=n[1];if(r.Element.isElement(l)){var o=Number(l.col);if(1!==o){var c=a.slice(),u=c.length-2;l.children.forEach((function(t,n){c[u]=n,r.Transforms.removeNodes(e,{at:c})})),r.Transforms.setNodes(e,{col:o-1},{at:i})}else ot(e)}}}}(e)}},{format:"tableRowDelete",icon:n.createElement(rt,null),callback:function(){return function(e){var t=lt(e,"tableRow");if(void 0!==t){var n=t[1],a=r.Editor.parent(e,n),l=a[0],i=a[1];if(r.Element.isElement(l)){var o=Number(l.row);1!==o?(r.Transforms.removeNodes(e,{at:n}),r.Transforms.setNodes(e,{row:o-1},{at:i})):ot(e)}}}(e)}},{format:"tableDelete",icon:n.createElement(at,null),callback:function(){return ot(e)}}]}(e).map((function(e){return n.createElement(I,{format:e.format,icon:e.icon,clickFn:e.callback,key:e.format})}))))},ut=i.makeStyles((function(e){return{container:{marginBottom:e.spacing(1)},divider:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)}}})),mt=function(){var e=a.useSlate(),t=ut();return n.createElement(o,{color:"default",position:"static",className:t.container},n.createElement(c,{disableGutters:!0,variant:"dense"},n.createElement(q,{format:"bold",icon:n.createElement(ge,null)}),n.createElement(q,{format:"italic",icon:n.createElement(be,null)}),n.createElement(q,{format:"underline",icon:n.createElement(He,null)}),n.createElement(q,{format:"strikethrough",icon:n.createElement(ye,null)}),n.createElement(q,{format:"subscript",icon:n.createElement(ze,null)}),n.createElement(q,{format:"superscript",icon:n.createElement(ke,null)}),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),n.createElement(I,{format:"h1",icon:n.createElement(Me,null),clickFn:function(){return A(e,"h1")}}),n.createElement(I,{format:"h2",icon:n.createElement(Ce,null),clickFn:function(){return A(e,"h2")}}),n.createElement(I,{format:"h3",icon:n.createElement(xe,null),clickFn:function(){return A(e,"h3")}}),n.createElement(K,{icon:n.createElement(we,null)}),n.createElement(Q,null),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),n.createElement(j,{align:"left",icon:n.createElement(qe,null)}),n.createElement(j,{align:"center",icon:n.createElement(Fe,null)}),n.createElement(j,{align:"right",icon:n.createElement(Ae,null)}),n.createElement(j,{align:"justify",icon:n.createElement(Ie,null)}),n.createElement(I,{format:"divider",icon:n.createElement(Se,null),clickFn:function(){return A(e,"divider")}}),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),function(e){return[{format:"unorderedList",icon:n.createElement(Te,null),callback:function(){return _e(e,"unorderedList")}},{format:"orderedList",icon:n.createElement(De,null),callback:function(){return _e(e,"orderedList")}},{format:"indentIncrease",icon:n.createElement(Oe,null),callback:function(){return Ze(e)}},{format:"indentDecrease",icon:n.createElement(Re,null),callback:function(){return $e(e)}}]}(e).map((function(e){return n.createElement(I,{format:e.format,icon:e.icon,clickFn:e.callback,key:e.format})})),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),n.createElement(ct,null),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),n.createElement(oe,{icon:n.createElement(Ve,null)}),n.createElement(me,{icon:n.createElement(Ne,null)}),n.createElement(fe,{icon:n.createElement(Le,null)}),n.createElement(u,{className:t.divider,orientation:"vertical",flexItem:!0}),n.createElement(ee,{icon:n.createElement(We,null)}),n.createElement(Ee,null),n.createElement(Pe,{mark:"fontFamily",defaultValue:"Roboto",values:ne}),n.createElement(Pe,{mark:"fontSize",defaultValue:"1rem",values:re,minWidth:"90px"})))},st=i.makeStyles((function(){return{container:function(e){return{textAlign:e.align,display:"block"}},media:function(e){return{maxWidth:"100%",maxHeight:"100%",boxShadow:e.selected&&e.focused?"0 0 0 3px #B4D5FF":"none"}}}})),dt=function(e){var t=e.attributes,r=e.element,l=e.children,i=r.align,o=r.url,c=r.description,u=r.width,m=r.height,s=r.linkURL,d=a.useSelected(),h=a.useFocused(),f=st({align:i,selected:d,focused:h}),v=n.createElement("img",{src:o,alt:c,height:m||"100%",width:u||"100%",className:f.media});return n.createElement("div",Object.assign({className:f.container},t),n.createElement("div",{contentEditable:!1},""!==s?n.createElement("a",{href:s},v):{img:v}),l)},ht=function(e){var t=e.attributes,r=e.element,l=e.children,i=r.align,o=r.url,c=r.width,u=r.height,m=a.useSelected(),s=a.useFocused(),d=st({align:i,selected:m,focused:s});return n.createElement("div",Object.assign({className:d.container},t),n.createElement("div",{contentEditable:!1},n.createElement("iframe",{title:"video-embed",id:"videoplayer",width:c,height:u,src:o,frameBorder:"0",className:d.media,allowFullScreen:!0})),l)},ft=i.makeStyles((function(){return{lineSpacing:function(e){return{lineHeight:e.lineSpacing}},table:function(e){return{border:"1px solid "+e.borderColor,borderCollapse:"collapse"}}}})),vt=function(e){var t=e.attributes,r=e.children,a=e.element,l=a.type,i=a.align,o=void 0===i?"inherit":i,c=a.url,m=ft({lineSpacing:a.lineSpacing||"normal",borderColor:a.borderColor||"grey"});switch(l){case"h1":return n.createElement(w,Object.assign({variant:"h1",align:o},t),r);case"h2":return n.createElement(w,Object.assign({variant:"h2",align:o},t),r);case"h3":return n.createElement(w,Object.assign({variant:"h3",align:o},t),r);case"link":return n.createElement("a",Object.assign({href:c},t),r);case"divider":return n.createElement(u,Object.assign({},t));case"lineSpacing":return n.createElement(w,Object.assign({component:"div",className:m.lineSpacing},t),r);case"image":return n.createElement(dt,{element:a,attributes:t},r);case"video":return n.createElement(ht,{element:a,attributes:t},r);case"unorderedList":return n.createElement("ul",Object.assign({},t),r);case"orderedList":return n.createElement("ol",Object.assign({},t),r);case"listItem":return n.createElement("li",Object.assign({},t),r);case"table":return n.createElement(S,{className:m.table},n.createElement(V,Object.assign({},t),r));case"tableRow":return n.createElement(N,Object.assign({},t),r);case"tableCell":return n.createElement(L,Object.assign({className:m.table},t),r);case"tableWrap":return n.createElement(w,Object.assign({component:"div"},t),r);default:return n.createElement(w,Object.assign({component:"div",align:o},t),r)}},pt=function(e,t){var n=le(e);return r.Element.isElement(n)&&"h1"===n.type||r.Element.isElement(n)&&"h2"===n.type||r.Element.isElement(n)&&"h3"===n.type?"inherit":t},Et=i.makeStyles((function(){return{text:function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,color:e.fontColor,lineHeight:"inherit"}}}})),gt=function(e){var t=e.attributes,r=e.children,l=e.leaf,o=a.useSlate(),c=i.useTheme(),u={fontFamily:l.fontFamily?l.fontFamily:c.typography.fontFamily,fontSize:pt(o,l.fontSize),fontColor:l.fontColor?l.fontColor:c.palette.text.primary},m=Et(u);return l.bold&&(r=n.createElement("strong",{"data-testid":"bold"},r)),l.italic&&(r=n.createElement("em",{"data-testid":"italic"},r)),l.underline&&(r=n.createElement("u",{"data-testid":"underline"},r)),l.strikethrough&&(r=n.createElement("s",{"data-testid":"strikethrough"},r)),l.subscript&&(r=n.createElement("sub",{"data-testid":"subscript"},r)),l.superscript&&(r=n.createElement("sup",{"data-testid":"superscript"},r)),n.createElement(w,Object.assign({component:"span",className:m.text},t),r)},bt=i.makeStyles((function(e){return{button:{minWidth:"70px",textTransform:"none",marginRight:e.spacing(1)}}})),yt=function(e){var t=e.handleClick,r=e.text,a=e.color,l=void 0===a?"default":a,i=bt();return n.createElement(h,{className:i.button,size:"small",variant:"contained",color:l,onClick:t},r)},zt=function(e){var t=e.handleSave;return n.createElement(T,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(yt,{handleClick:e.handleCancel,text:"Cancel"}),n.createElement(yt,{handleClick:t,text:"Save",color:"primary"}))},kt={A:function(e){return{type:"link",url:e.getAttribute("href")}},H1:function(){return{type:"h1"}},H2:function(){return{type:"h2"}},H3:function(){return{type:"h3"}},IMG:function(e){return{type:"image",url:e.getAttribute("src")}},LI:function(){return{type:"listItem"}},OL:function(){return{type:"orderedList"}},UL:function(){return{type:"unorderedList"}},P:function(){return{type:"paragraph"}},HR:function(){return{type:"divider"}},BR:function(){return{type:"paragraph"}}},Ht={DEL:function(){return{strikethrough:!0}},EM:function(){return{italic:!0}},I:function(){return{italic:!0}},S:function(){return{strikethrough:!0}},STRONG:function(){return{bold:!0}},B:function(){return{bold:!0}},U:function(){return{underline:!0}},SUB:function(){return{subscript:!0}},SUP:function(){return{superscript:!0}}},Mt=[{name:"Lato"},{name:"Merriweather"},{name:"Montserrat"},{name:"Roboto"},{name:"Roboto Condensed"},{name:"Roboto Mono"},{name:"Roboto Slab"}],Ct=[{size:"12px"},{size:"14px"},{size:"16px"},{size:"18px"},{size:"20px"},{size:"22px"},{size:"26px"},{size:"30px"}],xt=function(e){switch(e.type){case"alignment":return{align:e.data.align};case"image":return{url:e.data.src,description:e.data.description,height:e.data.height,width:e.data.width};case"line-spacing":return{lineSpacing:e.data.size};case"link":return{url:e.data.href};case"video":return{url:e.data.src,height:e.data.height,width:e.data.width};default:return{}}},wt=function(e){var t="";switch(e){case"heading_one":case"heading-one":case"heading_1":t="h1";break;case"heading_two":case"heading-two":case"heading_2":t="h2";break;case"heading_three":case"heading-three":case"heading_3":t="h3";break;case"heading_four":case"heading-four":case"heading_4":t="h3";break;case"heading_five":case"heading-five":case"heading_5":t="h3";break;case"heading_six":case"heading-six":case"heading_6":t="h3";break;case"line-spacing":t="lineSpacing";break;case"ordered-list":case"ordered_list":case"ol_list":t="orderedList";break;case"unordered-list":case"unordered_list":case"ul_list":t="unorderedList";break;case"list-item":case"list_item":case"list-item-child":t="listItem";break;case"table":t="tableWrap";break;case"table-row":t="tableRow";break;case"table-cell":t="tableCell";break;case"align_center":case"align_left":case"align_right":case"align_center":t="div";break;default:t=e}return t},St=function(e){return e.nodes?e.nodes.reduce((function(e,t){var n=Nt(t);return Array.isArray(n)?[].concat(e,n):[].concat(e,[n])}),[]):[{text:""}]},Vt=function(e,t){var n;return ce({},e,"font-color"===t.type?{fontColor:t.data.color}:"font-family"===t.type?{fontFamily:Mt[t.data.fontFamilyIndex].name}:"font-size"===t.type?{fontSize:Ct[t.data.fontSizeIndex].size}:((n={})[t.type]=!0,n))},Nt=function e(t){if(t.type)return function(e){var t=e.type;return"alignment"===t?ce({},St(e)[0],xt(e)):ce({type:wt(t),children:St(e)},xt(e))}(t);var n=t.text,r=t.marks,a=t.leaves;return a?[].concat(a.map(e)):r&&r.length>0?ce({text:n},r.reduce(Vt,{})):{text:n}},Lt=[{type:"paragraph",children:[{fontFamily:"Roboto",fontSize:"inherit",fontColor:"rgba(0, 0, 0, 0.87)",text:""}]}];exports.PageEditor=function(e){var i=e.pageContent,o=e.readOnly,c=e.handleSave,u=e.handleCancel,m=t.useMemo((function(){return function(e){var t=e.insertData;return e.insertData=function(n){var a=n.getData("text/html");if(a){var l=function e(t){if(3===t.nodeType)return t.textContent;if(1!==t.nodeType)return null;var n=t.nodeName,r=Array.from(t.childNodes).map(e).flat();if("BODY"===t.nodeName)return D.jsx("fragment",{},r);if(kt[n]){var a=kt[n](t);return D.jsx("element",a,r)}if(Ht[n]){var l=Ht[n](t);return r.filter((function(e){return"string"==typeof e})).map((function(e){return D.jsx("text",l,e)}))}return r}((new DOMParser).parseFromString(a,"text/html").body);r.Transforms.insertFragment(e,l)}else t(n)},e}(l.withHistory(a.withReact(function(e){var t=e.normalizeNode;return e.normalizeNode=function(n){var a=n[0],l=n[1],i=r.Element.isElement(a)&&"divider"===a.type,o=r.Element.isElement(a)&&"image"===a.type,c=r.Element.isElement(a)&&"video"===a.type;return(i||o||c)&&r.Transforms.insertNodes(e,{type:"paragraph",children:[{text:""}]}),t([a,l])},e}(function(e){var t=e.isVoid;return e.isVoid=function(e){return"image"===e.type||"video"===e.type||t(e)},e}(function(e){var t=e.insertBreak,n=e.deleteBackward;return e.insertBreak=function(){Qe(e,t)},e.deleteBackward=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];Qe(e,(function(){return n.apply(void 0,r)}))},e}(function(e){var t=e.isInline;return e.isInline=function(e){return"link"===e.type||t(e)},e}(r.createEditor())))))))}),[]),s=Lt;i&&(s=JSON.parse(i),Array.isArray(s)||(s=s.document.nodes.map(Nt)));var d=t.useState(s),h=d[0],f=d[1],v=t.useCallback((function(e){return n.createElement(vt,Object.assign({},e))}),[]),p=t.useCallback((function(e){return n.createElement(gt,Object.assign({},e))}),[]);return console.log(h),n.createElement(a.Slate,{editor:m,value:h,onChange:function(e){return f(e)}},n.createElement(mt,null),n.createElement(a.Editable,{readOnly:o,renderElement:v,renderLeaf:p,onKeyDown:function(e){!function(e,t){"Tab"===e.key&&(e.preventDefault(),e.shiftKey?$e(t):Ze(t))}(e,m)},placeholder:"Enter some text...",spellCheck:!0,autoFocus:!0}),n.createElement(zt,{handleSave:c,handleCancel:u}))};
//# sourceMappingURL=dicty-components-page-editor.cjs.production.min.js.map
